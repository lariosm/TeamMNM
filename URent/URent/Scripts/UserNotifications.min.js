function notificationRequest() { $.ajax({ type: "GET", dataType: "json", url: "/Resources/NotificationRequest/", success: showNotifications, error: notificationError }) } function showNotifications(t) { if (console.log(t), 0 == t.length) $("#message").empty(), $("#message").append("No notifications to display"); else { $("#message").empty(), $(".notification-info").remove(); for (var e = 0; e < t.length; e++)$(".table").append('<tr class="notification-info"><td>' + t[e].ItemName + "</td><td>" + t[e].FirstName + " " + t[e].LastName + "</td><td>" + formatJSONDate(t[e].StartDate) + "</td><td>" + formatJSONDate(t[e].EndDate) + "</td><td>" + formatJSONDate(t[e].TimeStamp) + "</td><td>$" + Number(t[e].TotalPrice).toLocaleString("en-US", { minimumFractionDigits: 2 }) + "</td></tr>") } } function notificationError() { console.error("ERROR: Unable to resolve notifications. Please try again later.") } function formatJSONDate(t) { var e = new Date(parseInt(t.substr(6))); e.setDate(e.getDate() + 1); var a = e.getMonth() + 1, o = e.getDate(); return a < 10 && (a = "0" + a), o < 10 && (o = "0" + o), a + "/" + o + "/" + e.getFullYear() } function main() { notificationRequest(); window.setInterval(notificationRequest, 5e3) } $(document).ready(main);